\section{解析解}

	数値解析によって解の値は求められた。では、これらの値はいったいどのような数式であらわされるのだろうか？

	指数関数と対数関数のグラフにおいて、
	\begin{align*}
		\loga x &= a^x \\
	\iff a^{a^x}&= x
	\end{align*}
	だから、$f(a,x) = a^{a^x} - x$として、$f(a,x) = 0$となるような$a$や$x$についての関数
	\begin{align*}
			 a &= g(x) \\
			 x &= h(a) 
	\end{align*}
	を求めるということが目標となる。このような関数$a = g(x)$や$x = h(a)$は$f(a,x) = 0$の陰関数と呼ばれ、いくつか存在している。

\subsection{不動点解}
	まずは、不動点解について調べてみよう。指数関数の不動点$\xf$において、
	\begin{equation*}
		a^{\xf} = \xf
	\end{equation*}
	であるから、$x$についての関数$a = x^{\frac{1}{x}}$は$f(a,x) = 0$の陰関数である。
	
	つまり、不動点解においては、底$a$を解$x$の関数としてが可能になったと言える。
	
	では、逆に底から解を導くような陰関数はどのように表わされるだろうか。それを述べるには少し特殊な演算を導入する必要がある。
	
\subsection{テトレーション}
	テトレーションとは、加算や乗算、累乗の延長線上に定義される演算だ。これらの演算は、そもそも
	\begin{align*}
		a + b &= a +  \underbrace{1 + 1 + \cdots + 1}_b \\
		a \times b &= \underbrace{a + a + \cdots + a}_b \\
		a^b   &= \underbrace{a \times a \times \cdots \times a}_b
	\end{align*}
	というように、繰り返しの形で表わされる演算であると一般化できる。このような繰り返し演算はハイパー演算と呼ばれていて、テトレーションは累乗を拡張したハイパー演算だ。
	したがって、テトレーションは、累乗の繰り返し演算
	\begin{equation*}
		^b a = \underbrace{a ^{a ^{\cdot ^{\cdot ^a}}}}_b
	\end{equation*}
	と定義され、ハイパー演算の内で4番目であることからテトレーション(\emph{tetra}tion)と呼ばれている。他にも超累乗(hyperpower)、累乗列(powertower)と呼ばれることもあるが、ここではテトレーションで呼び方を統一する。
	また、テトレーション$^b a$の$a$をテトレーションの底と呼び、$b$を高さと呼んでいる。
	
	それでは、さっそくテトレーションを活用しよう。テトレーション$^n a$について、高さ$n$を無限に大きくしていくと、底$a$の値によっては$^n a$はある値に収束する。この収束値を高さ無限大のテトレーション$^\infty a$とあらわすこととする。
	すなわち、
	\begin{equation*}
		^\infty a = \lim_{h \to \infty} {^h a}
	\end{equation*}
	とする。テトレーションの定義から、$^{h+1} a = a^{^h a}$なので、
	\begin{align*}
		a ^{^\infty a} &= {^\infty a} \quad \text{であって、$x = {^\infty a}$とおけば} \\
		a^x &= x
	\end{align*}
	である。ここから、$a$についての関数$x = {^\infty a}$は、不動点解についての$f(a,x) = 0$の陰関数表示であることが分かる。テトレーションの導入によって、指数関数と対数関数の交点を底であらわすことができた。
	
\subsection{$f(a,x)=0$の陰関数}
	それでは、高さ無限大のテトレーション$^\infty a$について調べることで、$f(a,x)=0$の陰関数を見つけ出そう。
	
	ここで、$x = {^\infty a}$は$a = x^\frac{1}{x}$の逆関数なので、${^\infty a}$が収束する範囲で関数は一致する。$a = x^\frac{1}{x}$の値域が$0 < a \leq e^\frac{1}{e}$であることから、${^\infty a}$が収束するのは少なくともこの範囲内である。
	
	まずは$a \geq 1$のときを考える。
	\begin{theorem}
	\label{th:tetration_convergence_a_greater_1}
		$1 \leq a \leq e^\frac{1}{e}$のとき、$\lim_{n \to \infty} {^n a}$は収束する。
	\end{theorem}
	\begin{proof}
	
		$a \geq 1$より、$^{n+1} a = a ^{^n a} \geq {^n a}$であるから、数列$\{^n a\}$は、単調増加する。
		また、$1 \leq {^n a} \leq e$と仮定すると、
		\begin{align*}
			1 \leq {^{n+1} a} &\leq (e^\frac{1}{e})^e \\
							  &= e
		\end{align*}
		であるから、帰納的に、
		\begin{equation*}
			1 \leq {^n a} \leq e
		\end{equation*}
		数列$\{^n a\}$は単調増加し、上に有界な数列となるので、単調収束定理から、数列$\{^n a\}$が収束する。
	\end{proof}
	
	次は、$0 < a < 1$のときだ。
	\begin{lemma}
		$0 < a < $とする。
		数列$\{^n a\}$の奇数番目と偶数番目を取り出した部分列$\{^{2n-1} a\},\{^{2n} a\}$はそれぞれ収束する。
	\end{lemma}
	\begin{proof}
	
		累乗は二回適用しても大小関係を保つので、それぞれの数列は単調に変化する。$0 < {^n a} < 1$と仮定すれば、
		\begin{align*}
			a^1<&{^{n+1} a}<a^0 \quad \text{より}\\
			0<&{^{n+1} a}<1 \\
		\end{align*}
		
		であるから、帰納的に$0 < {^n a} < 1$.
		したがって、数列$\{^{2n-1} a\},\{^{2n} a\}$はそれぞれ単調に変化し有界であるから、収束する。
	\end{proof}

	\[
		T(a) = \lim_{n \to \infty} {^n a},
		T_e = \lim_{n \to \infty} {^{2n} a},
		T_o = \lim_{n \to \infty} {^{2n - 1} a}
	\]と定義する。
	\begin{theorem}
	\label{th:tetration_implicit_function}
		$x = T_e(a)$および$x = T_o(a)$は$f(a,x)=0$の陰関数である。
	\end{theorem}
	
	\begin{theorem}
		$0 < a < \frac{1}{e^e}$のとき、$\displaystyle \lim_{n \to \infty} {^n a}$は発散する
	\end{theorem}
	\begin{proof}
		
		関数$y = x^x$を考えると、$x^x \geq (\frac{1}{e})^{\frac{1}{e}}$だから、$1 > a^a > \frac{1}{e}$
		また、$1 > {^{2n-1} a} > \frac{1}{e}$と仮定すれば、
		\begin{align*}
			0 < {^{2n} a} &< (\frac{1}{e^e})^{\frac{1}{e}} \\
						  &= \frac{1}{e} \quad \text{同様にして、} \\
			1 > {^{2n+1} a} &> \frac{1}{e}
		\end{align*}
		したがって、帰納的に$1 > {^{2n-1} a} > \frac{1}{e}$であるから、
		\begin{equation*}
			\lim_{n \to \infty} {^{2n - 1} a} \geq \frac{1}{e}
		\end{equation*}
		ところで、$a = x^{\frac{1}{x}}$は、$0 < a < \frac{1}{e^e}$のとき、$0 < x < \frac{1}{e}$であるから、$\displaystyle \lim_{n \to \infty} {^n a}$が収束するならば、その部分列についても
		\begin{equation*}
			\lim_{n \to \infty} {^{2n - 1} a} < \frac{1}{e}
		\end{equation*}
		となる。これは矛盾するので、$\lim_{n \to \infty} {^n a}$は発散する。
	\end{proof}
	
	\begin{theorem}
	\label{th:all_implicit_function}
		$f(a,x)=0$の陰関数は、次のいずれかの関数と等価である。
		
		\[
		\left \{
			\begin{array}{l}
				a = x^{\frac{1}{e}} \\
				x = T(a) \\
				x = T_e(a) \\
				x = T_o(a)
			\end{array}
		\right.
		\]
	\end{theorem}
	\begin{proof}
		$f(a,x)$の$a$を定数として見た関数$f_a(x)$を考えると、
		\begin{align*}
			f_a'(x) &= {a^{a^x}}{a^x}{\ln^2 a} - 1 \\
			f_a''(x)&= {a^{a^x}}{a^x}{\ln^3 a}(a^x\ln a + 1)
		\end{align*}
		$a^x\ln a$は単調増加するから、
		
		\begin{itemize}
			\item $0 < a < 1$のとき
			
				$f_a''(x)$は単調減少
			\item $a > 1$のとき
			
				$f_a''(x) > 0$
		\end{itemize}
		したがって、$a^x\ln a + 1 = 0$のとき、$f_a'(x)$は極値$-\frac{\ln a}{e} - 1$をとる。
		
		これまでの結果より、$0 < a < 1$のとき、$f_a(x) \leq -\frac{\ln a}{e} - 1$
		さらに、
		\[
			 -\frac{\ln a}{e} - 1 > 0 
			 \iff 0 < a < \frac{1}{e^e}
		\]
		であるから、$f_a'(x)$の停留点の個数は
		\[
			\begin{cases}
				\text{2個} & (0 < a < \frac{1}{e^e}) \\
				\text{0個} & (\frac{1}{e^e} < a < 1)
			\end{cases}
		\]
		
		$1 < a < \left ( \frac{1}{e} \right )^{\frac{1}{e}}$のときは、$f_a'(x)$は単調増加し、$f_a'(x)=0$となる点が存在するので、
		$f_a(x)$の停留点の個数は1個
		
		まとめると、
		\begin{table}
		\begin{center}
		\begin{tabular}{ccc}
			a & 停留点 & 既に知られた解 \\
			\hline
			$0 < a < \frac{1}{e^e}$ & 2個 & $a = x^{\frac{1}{x}},x = T_o(a),x = T_e(a)$ \\
			$\frac{1}{e^e} < a < 1$ & 0個 & $a = x^{\frac{1}{x}} \iff x = T(a)$ \\
			$1 < a < \left ( \frac{1}{e} \right )^{\frac{1}{e}}$ & 1個 & $a = x^{\frac{1}{e}}$($x = T(a)$を含む)
		\end{tabular}
		\end{center}
		\end{table}
		
		ここで、グラフの慨形から、
		\[
			\text{（$f_a(x)$の停留点の個数）} + 1 \geq \text{（$f_a(x)=0$の解の個数）}
		\]
		という関係式が成り立ち、全ての$a$において前に挙げた4つの関数が解の最大数分の陰関数となるので、他に$f(a,x)=0$の陰関数は存在しないと言える。したがって、\thref{th:all_implicit_function}が証明された。
	\end{proof}
	
	この結果から、直ちに次の事実が導かれる。
	\begin{theorem}
	\label{th:tetration_convergence}
		${^\infty a}$は$\frac{1}{e^e} < a < \left ( \frac{1}{e} \right )^{\frac{1}{e}}$で収束する。
	\end{theorem}
	\begin{proof}
		\thref{th:all_implicit_function}より、$\frac{1}{e^e} < a < 1$で$f(a,x)=0$の陰関数は一つのみである。
		したがって、$T_e(a) = T_o(a)$であり、${^\infty a}$は収束すると言える。
		\thref{th:tetration_convergence_a_greater_1}と合わせて、上の命題が導かれる。
	\end{proof}
	
	こうして、指数関数と対数関数の交点における底と交点の関係式が全て求められた。
	